<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8" />
    <title>Booking System</title>
    <!-- 
      Links to the shared style and the new combined booking style.
      I'm using the path from your original files.
    -->
    <link rel="stylesheet" href="../shared/css/shared.css" />
    <link rel="stylesheet" href="booking_system.css" />
</head>
<body>

    <div class="container card">
        <!-- Tab Navigation -->
        <nav class="tabs-nav">
            <button id="tab-create" class="btn active">Create Booking</button>
            <button id="tab-calendar" class="btn secondary">View Calendar</button>
            <button id="tab-history" class="btn secondary">View History</button>
            <!-- This "Back" link goes to the 'index.html' (resource list) -->
            <a href="index.html" class="btn secondary" style="margin-left: auto;">Back to Resources</a>
        </nav>

        <!-- View 1: Create Booking (Visible by default) -->
        <div id="view-create" class="view-container active">
            <h1>Create a booking</h1>
            
            <!-- Content from booking.html -->
            <div class="row">
                <label for="booking-who">Your name:</label>
                <!-- Added 'class="input"' for shared styling -->
                <input id="booking-who" placeholder="e.g., Alice" class="input"/>
            </div>
            <div class="row">
                <label for="booking-resourceId">Resource</label>
                <select id="booking-resourceId" class="input"></select>
            </div>
            <div class="row">
                <label for="booking-date">Date:</label>
                <input id="booking-date" type="date" class="input"/>
            </div>
            <div class="row">
                <label for="booking-start">Start:</label>
                <input id="booking-start" type="time" class="input"/>
            </div>
            <div class="row">
                <label for="booking-end">End:</label>
                <input id="booking-end" type="time" class="input"/>
            </div>
            <div class="row">
                <label for="booking-purpose">Purpose:</label>
                <input id="booking-purpose" placeholder="Study, meeting, ..." class="input"/>
            </div>
            <div class="row" style="gap:12px;">
                <button id="booking-saveBtn" class="btn">Save booking</button>
            </div>
            <p id="booking-msg" class="muted" style="margin-top:12px;"></p>
        </div>

        <!-- View 2: Calendar (Hidden by default) -->
        <div id="view-calendar" class="view-container">
            <h1>Availability (Week view)</h1>

            <!-- Content from calendar.html -->
            <div class="toolbar">
                <div class="row">
                    <label for="cal-resourceId">Resource</label>
                    <select id="cal-resourceId" class="input"></select>
                </div>
                <div class="row">
                    <label for="cal-anyDay">Week</label>
                    <input id="cal-anyDay" type="date" class="input"/>
                </div>
            </div>
            <div id="cal-weekHeader" class="week-header"></div>
            <div id="cal-grid" class="week-grid" aria-live="polite"></div>
        </div>

        <!-- View 3: Booking History (Hidden by default) -->
        <div id="view-history" class="view-container">
            <h1>Booking history</h1>

            <!-- Content from booking_history.html -->
            <div class="row">
                <label for="history-who">Filter by name</label>
                <input id="history-who" placeholder="Enter your name to see your bookings" class="input"/>
                <button id="history-filterBtn" class="btn">Filter</button>
                <button id="history-allBtn" class="btn">Show all</button>
            </div>
            <table class="table" style="margin-top:12px;">
                <thead>
                    <tr>
                        <th>User</th>
                        <th>Resource</th>
                        <th>Date</th>
                        <th>Start</th>
                        <th>End</th>
                        <th>Purpose</th>
                        <th>Action</th>
                    </tr>
                </thead>
                <tbody id="history-tbody"></tbody>
            </table>
        </div>

    </div>

    <!-- Link to the new combined JavaScript file -->
    <script type="module" src="booking_system.js"></script>
</body>
</html>
